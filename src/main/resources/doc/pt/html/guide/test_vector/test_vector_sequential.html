<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html lang="pt">
<head>
	<META name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="created" content="2018-10-23T06:18:10.521000000"/>
	<meta name="changed" content="2018-10-23T06:18:42.262000000"/>
	<META http-equiv="content-type" content="text/html; charset=UTF-8">
	<META http-equiv="Content-Language" content="pt">
	<title>Testes Sequenciais</title>
	<link rel="stylesheet" type="text/css" href="../../style.css">
	<link rel="stylesheet" type="text/css" href="codefix.css">
</head>
<body>

<h1>Testes Sequenciais</h1>

<p>A funcionalidade de Vetor de Teste suporta tanto testes de circuitos <strong>combinacionais</strong> quanto
<strong>sequenciais</strong>. Por padrão, os testes são combinacionais:
o circuito é reiniciado antes de cada teste, garantindo que cada teste seja independente.</p>

<p>Para circuitos sequenciais, você pode especificar sequências de teste usando as colunas especiais
de cabeçalho <code>&lt;set&gt;</code> e <code>&lt;seq&gt;</code>:</p>

<ul>
<li><strong>&lt;set&gt;</strong>: Define o <strong>ID da sequência</strong> - testes com o mesmo número de conjunto
pertencem à mesma sequência e são executados juntos. O estado do circuito é preservado entre etapas
no mesmo conjunto. Os testes padrão são o conjunto 0 se não especificado.</li>
<li><strong>&lt;seq&gt;</strong>: Define o <strong>número da etapa</strong> dentro de um conjunto - isso determina
a ordem de execução dos testes dentro do mesmo conjunto. Os testes são executados na ordem de seus
valores <code>&lt;seq&gt;</code> dentro de cada <code>&lt;set&gt;</code>. Testes com <code>&lt;seq&gt;</code> de 0
ou ausente são tratados como combinacionais (o circuito reinicia entre testes, mesmo que compartilhem
o mesmo conjunto).</li>
</ul>

<p>Aqui está um exemplo de um vetor de teste sequencial:</p>
<pre class="code">
# Teste sequencial para um contador
Clock Reset Count &lt;set&gt; &lt;seq&gt;
0     0     0     1     1
1     0     0     1     2
0     0     1     1     3
1     0     1     1     4
0     0     2     1     5
1     0     2     1     6
0     1     0     2     1
</pre>

<p>Neste exemplo, os primeiros seis testes têm <code>&lt;set&gt; 1</code> com valores <code>&lt;seq&gt;</code>
1-6, então eles formam uma sequência que é executada em ordem (seq 1, depois 2, depois 3, etc.)
sem reiniciar entre etapas. O último teste tem <code>&lt;set&gt; 2</code>, então ele inicia
uma nova sequência e o circuito é reiniciado antes de ser executado.</p>

<p>Note also that <code>Clock</code> could be an input pin here. But it could also be a labeled clock component (see below).</p>

<h2>Regras de Execução de Sequência</h2>

<ul>
<li>Testes com o mesmo número <code>&lt;set&gt;</code> (&gt; 0) pertencem à mesma sequência</li>
<li>Dentro de cada conjunto, os testes são executados na ordem de seus valores <code>&lt;seq&gt;</code> (seq 1, depois 2, depois 3, etc.)</li>
<li>O estado do circuito é mantido entre testes no mesmo conjunto (mesmo ID de conjunto)</li>
<li>O circuito é reiniciado ao iniciar um novo conjunto (número <code>&lt;set&gt;</code> diferente)</li>
<li>Tests with <code>&lt;seq&gt;</code> = 0 or missing must also have <code>&lt;set&gt;</code> = 0 or missing and are always combinational (reset between tests)</li>
</ul>

<h2>Using the Clock</h2>

<p>In a sequential test, the first step begins with a reset. In every step after the first, it begins with a simulation tick. Any Clock components in the simulation will be updated by that tick and their signals will be propagated along with any input pin values for that step. You may add a column to the test to show the ticks. The column will be checked against the clock in the circuit as if it were an output pin to verify it describes the clocks behavior. Here is an example for a simple positive edge-triggered D flip-flop test with a standard clock:</p>

<pre class="code">
&lt;clk&gt; D Q NotQ  &lt;set&gt; &lt;seq&gt;
  0   0 0   1     1     1
  1   0 0   1     1     2
  0   1 0   1     1     3
  1   1 1   0     1     4
  0   1 1   0     1     5
  1   1 1   0     1     6
  0   0 1   0     1     7
</pre>

<p>The <code>&lt;clk&gt;</code> header is a special name for an unlabeled clock component. You may also label the clock and use the label as the column header (see earlier example).</p>

<p>We recommend that when using a Clock, you should not change the values of memory inputs during the same step that the clock makes a triggering transition. Doing so may allow an input signal to reach the component at near the same time as the clock signal giving surprising behavior. In the example above, the D input does not change in steps with a rising edge of the clock.</p>

<h2>Exemplo Completo</h2>

<p>Aqui está um exemplo completo combinando todas as funcionalidades:</p>
<pre class="code">
# Mixed combinational and sequential tests
A B C Out     &lt;clk&gt; &lt;set&gt; &lt;seq&gt;
0 0 0 0       0     0     0
0 0 1 1       0     0     0
1 1 0 1       0     1     1
0 1 0 0       1     1     2
1 1 1 1       0     1     3
0 0 0 &lt;DC&gt;    0     2     1
1 0 1 &lt;float&gt; 1     2     2
</pre>

<p>In this example:</p>
<ul>
<li>Notice how the clock resets to 0 in each line that does a reset.</li>
<li>The first two tests are combinational (seq=0), so the circuit resets
between each test, even though they share set 0.</li>
<li>The next three tests all have set 1 with seq values 1-3, so they form one sequence
that runs in order without reset between each other only resetting before the first test in the set runs.</li>
<li>The last test has set 2 seq 1&2, so it starts a new sequence and the circuit resets before it runs but not between tests in the set.</li>
<li>The sixth test uses <code>&lt;DC&gt;</code> for the output, so any output value passes.</li>
<li>The last test uses <code>&lt;float&gt;</code> for the output, expecting a floating value.</li>
</ul>

<p> Thus the execution might look like this:</p>
<ol>
<li>Reset, set A=0, B=0, C=0 and check that Out==0 and clk=0</li>
<li>Reset, set A=0, B=0, C=1 and check that Out==1 and clk=0</li>
<li>Reset, set A=1, B=1, C=0 and check that Out==1 and clk=0</li>
<li>Tick, set A=0, B=1, C=0 and check that Out==0 and clk=1</li>
<li>Tick, set A=1, B=1, C=1 and check that Out==1 and clk=0</li>
<li>Reset, set A=0, B=0, C=0 and not check Out but clk=0</li>
<li>Tick, set A=1, B=0, C=1 and check that Out is floating (in Logisim this is notated as U) and clk=1</li>
<li>Test Vector is complete</li>
</ol>

<p>
	<b>Anterior:</b> <a href="test_vector_special_values.html">Valores Especiais</a> | <b>Próximo:</b> <a href="test_vector_cmdline.html">Uso da Linha de Comando</a>.
</p>

</body>
</html>
