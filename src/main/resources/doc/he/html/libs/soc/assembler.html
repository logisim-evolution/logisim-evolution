<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="he">
<head>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="2018-10-23T06:18:10.521000000" name="created">
    <meta content="2023-04-29T16:00:00.000000000" name="changed">
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <meta content="he" http-equiv="Content-Language">
    <title>
        assembler
    </title>
    <link href="../../style.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="maindiv">
    <h1>
        מבוא
    </h1>
    <p>
        האסמבלר המובנה של logisim-evolution תומך מלבד ההוראות שסופקו על ידי המעבד המשומש
        מספר תכונות כמתואר בדף עזרה זה. האסמבלר משתמש בהדגשת תחביר וזיהוי שגיאות.
        יתר על כן, הוא מתרגם את ההוראות לקוד בתים שניתן לבצע על ידי המעבד. למרות ש
        המבנה של האסמבלר יאפשר לכתוב קובץ elf-file תכונה זו עדיין לא מיושמת.
    </p>
    <h1>
        שימוש ב-GUI
    </h1>
    <p>
        בעת פתיחת האסמבלר מוצג בפניך חלון חדש כפי שמוצג להלן:
    </p>
    <p>
        <img alt="assembler" src="../../../../img-guide/assembler_gui.png" title="The assembler gui">
    </p>
    <p>
        ה-GUI מורכב משלושה מרכיבים:
    </p>
    <ol>
        <li>סרגל הכלים שנמצא בחלק העליון של אזור העריכה.
        </li>
        <li>שורת חיווי הקו עם מחווני שגיאה משמאל לאזור העריכה.
        </li>
        <li>אזור העריכה.
        </li>
    </ol>
    <h2>
        סרגל הכלים
    </h2>
    <p>
        סרגל הכלים מספק את הפונקציות העיקריות של האסמבלר באמצעות מספר אייקונים:
    </p>
    <p>
        <img alt="load" class="notscal" src="../../../../img-guide/assembler_load.png"> סמל זה מפעיל את הטעינה
        של קובץ assembly לתוך אזור העריכה. ניתן להפעיל את פונקציית הטעינה גם על ידי קיצור המקלדת
        (Ctrl-L).
    </p>
    <p>
        <img alt="save" class="notscal" src="../../../../img-guide/assembler_save.png" title="assembler save"> סמל זה
        מפעיל את שמירת התוכן הנוכחי באזור העריכה. ניתן להפעיל את פונקציית השמירה גם על ידי
        קיצור מקשים (Ctrl-S).
    </p>
    <p>
        <img alt="שמור בשם" class="notscal" src="../../../../img-guide/assembler_save_as.png"> סמל זה מפעיל את
        שמירה-כפונקציה של התוכן הנוכחי באזור העריכה. לפונקציית שמירה בשם אין קיצור מקלדת.
    </p>
    <p>
        <img alt="assemble" class="notscal" src="../../../../img-guide/assembler_assemble.png"> סמל זה מפעיל את
        פונקציית הרכבה של התוכן הנוכחי באזור העריכה. פונקציית ההרכבה cal גם להיות מופעלת על ידי
        קיצור המקשים (ALT-A).
    </p>
    <p>
        <img alt="שגיאה קודמת" class="notscal" src="../../../../img-guide/assembler_prev_error.png"> סמל זה קופץ
        לשגיאה שזוהתה לפני מיקום הסמן הנוכחי. פונקציה זו זמינה גם על ידי המקלדת
        קיצור דרך (Ctrl-P).
    </p>
    <p>
        <img alt="השגיאה הבאה" class="notscal" src="../../../../img-guide/assembler_next_error.png"> סמל זה קופץ אל
        שגיאה שזוהתה לאחר מיקום הסמן הנוכחי. פונקציה זו זמינה גם על ידי קיצור המקלדת
        (Ctrl-N).
    </p>
    <p>
        <img alt="run" class="notscal" src="../../../../img-guide/assembler_run.png"> סמל זה הפעיל את ההרכבה
        פונקציה וכאשר לא מזוהות שגיאות, טוען את התוכנית לזיכרון. ניתן להפעיל גם את פונקציית הריצה
        על ידי קיצור המקלדת (ALT-R).
    </p>
    <p>
        <img alt="help" class="notscal" src="../../../../img-guide/assembler_help.png"> סמל זה מציג מסך עזרה זה.
    </p>
    <p>
        מימין לסרגל הכלים השורה הנוכחית של הסמן ומספר השורות הכולל באזור העריכה נמצאים
        מוצג. במקרה שהמחוון הזה נדלק בצהוב, יתגלו שינויים באזור העריכה.
    </p>
    <h2>
        סרגל חיווי הקו
    </h2>
    <p>
        סרגל מחוון הקו מכיל, מלבד מספר השורה הנוכחי, גם את סמלי מחוון השגיאה. מרחף מעל ה
        סרגל מחוון השגיאה יציג (אחת מהשגיאות) שזוהו בשורה הנתונה באזור העריכה.
    </p>
    <h2>
        אזור העריכה
    </h2>
    <p>
        אזור העריכה מכיל את כל הקוד שאולי תרצה להשתמש בו. במקרה שהקוד שלך מכיל שגיאות (אחרי
        הפעלת פונקציית ההרכבה או ההפעלה) השגיאות יוצגו על ידי סמל שגיאה בסרגל מחוון הקו
        וקו אדום קטן מתחת לטקסט שגורם לבעיה. מרחף מעל הטקסט הזה עם העכבר
        להציג את סיבת השגיאה. חשוב לציין שכאשר קיימות שגיאות מרובות בשורה אחת, רק אחת
        יוצג על ידי סמן השגיאה בסרגל מחוון הקו. יתר על כן, במקרה של חישובים (כמו ב
        שורה 17 בתמונה שהוצגה למעלה) יכול להיות שרק ה-8 מסומן במקום החישוב המלא.
    </p>
    <h1>
        שימוש בחישובים
    </h1>
    <p>
        האסמבלר תומך בשני סוגי חישובים:
    </p>
    <ol>
        <li>חישובים יחסיים של מונה תוכניות (PC).
        </li>
        <li>חישובים מוחלטים
        </li>
    </ol>
    <h2>
        תוכנית נגד חישובים יחסיים
    </h2>
    <p>
        במקרה שנדרשת כתובת ביחס למונה התוכנית הנוכחית ניתן לבצע חישובים אלו על ידי
        באמצעות הפנקס השמור <b>pc</b>. כמו כן, השימוש בתוויות וקבועים מותר בחישובים אלה.
    </p>
    <p>
        דוגמאות: <b>pc</b>+8 , <b>pc</b>-0x40, mylabel-<b>pc</b> וכו'.
    </p>
    <h2>
        חישובים מוחלטים
    </h2>
    <p>
        בחישובים מוחלטים מחושב ערך קבוע. לביצוע חישובים מוחלטים תוויות וקבועים
        מורשים.
    </p>
    <h2>
        סוגי חישוב
    </h2>
    <p>
        סוגי החישוב הבאים נתמכים:
    </p>
    <ul>
        <li>+ =&gt; חיבור
        </li>
        <li>- =&gt; חִסוּר
        </li>
        <li>* =&gt; כֶּפֶל
        </li>
        <li>/ =&gt; חלוקה שלמים
        </li>
        <li>% =&gt; שארית מספר שלם
        </li>
        <li>&lt;&lt; =&gt; העבר שמאלה
        </li>
        <li>&gt;&gt; =&gt; העבר ימינה
        </li>
    </ul>
    <em>הערה:</em> כרגע אין תמיכה בסוגריים.<br>
    <h2>
        סדר חישוב
    </h2>
    <p>
        <i><b>חשוב:</b></i> כרגע החישובים מבוצעים משמאל לימין ללא תלות ב
        היררכיה של המפעיל!
    </p>
    <p>
        זה אומר:
    </p>
    <p>
        5+10*2 מחושב כ-(5+10)*2 = 30
    </p>
    <p>
        10*2+5 מחושב כ-(10*2)+5 = 25
    </p>
    <p>
        זה ברשימת המשימות כדי לשפר את תמיכת החישוב הגרועה הזו.
    </p>
    <h1>
        שימוש בפקודות מאקרו
    </h1>
    <p>
        ה-Build-in assembler תומך בפקודות מאקרו. התחביר עבור מאקרו הוא:
    </p>
    <p>
        <strong>.macro</strong> <em>&lt;name&gt;</em> <em>&lt;nr_of_variables&gt;</em>
    </p>
    <p>
        <em>&lt;BODY&gt;</em>
    </p>
    <p>
        <strong>.endm</strong>
    </p>
    <p>
        הגדרת מאקרו צריכה שני פרמטרים:
    </p>
    <ol>
        <li>
            <em>&lt;name&gt;</em> פרמטר זה הוא שם המאקרו שיש להשתמש בו בשאר התוכנית שלך.
        </li>
        <li>
            <em>&lt;nr_of_variables&gt;</em> פרמטר זה מציין את מספר המשתנים המשמשים בתוך
            מאקרו. פרמטר זה צריך להיות ערך שלם חיובי (למשל 0,1,2,....)
        </li>
    </ol>
    <h2>
        מבנים מותרים בתוך מאקרו
    </h2>
    <p>
        בתוך מאקרו אתה יכול להשתמש רק בהוראות, תוויות, חישובים וקריאות לפקודות מאקרו אחרות. זה חשוב
        לשים לב שתוויות המוגדרות בתוך &lt;BODY&gt; של מאקרו הם מקומיים למאקרו ולא ניתן להתייחס אליהם
        מחוץ למאקרו.
    </p>
    <h2>
        שימוש במשתנים בתוך מאקרו
    </h2>
    <p>
        אם הפרמטר <em>&lt;nr_of_variables&gt;</em> הוא מספר גדול מ-0, יש לקרוא למאקרו עם זה
        מספר ערכים. ניתן להפנות לכל אחד מהערכים הללו בתוך מאקרו עם המחוון @<em>&lt;x&gt;</em>
        כאשר <em>&lt;x&gt;</em> הוא מספר. מכאן ש-@1 מתייחס לפרמטר 1, לפרמטר @2 2 וכו'.
    </p>
    <h2>
        שימוש בקריאות מאקרו בתוך מאקרו
    </h2>
    <p>
        פקודות מאקרו מאפשרות להתקשר לפקודות מאקרו אחרות, אולם קיימות שתי הגבלות:
    </p>
    <ol>
        <li>מאקרו אינו יכול לקרוא לעצמו; פקודות מאקרו רקורסיביות אינן נתמכות.
        </li>
        <li>שתי פקודות מאקרו אינן יכולות לקרוא זו לזו; שיחות מעגליות אינן נתמכות.
        </li>
    </ol>
    <h1>
        הנחיות אסמבלר
    </h1>
    <p>
        קיימות מספר הנחיות הנתמכות כמתואר להלן.
    </p>
    <h2>
        תוויות
    </h2>
    <p>
        ניתן להשתמש בתוויות על ידי התחביר <em>&lt;name&gt;</em><strong>:</strong> ה<em>&lt;name&gt;</em> חייב להתחיל
        עם אות ויכול להכיל אותיות (a..z;A..Z), מספרים (0..9) וקווים תחתונים (_). שימו לב שתוויות
        המצוינים בתוך מאקרו הם מקומיים למאקרו. כל שאר התוויות הן גלובליות (לכן תווית גלובלית יכולה להיות
        הפניה בתוך מאקרו).
    </p>
    <h2>
        קבועים בשם
    </h2>
    <p>
        ניתן להגדיר קבועים בעלי שם על ידי התחביר <strong>.equ</strong> <em>&lt;name&gt;</em> <em>&lt;value&gt;</em>.
        הפרמטר <em>&lt;name&gt;</em> חייב להתחיל באות ויכול להכיל אותיות (a..z;A..Z), מספרים
        (0..9), וקווים תחתונים (_). השדה <em>&lt;value&gt;</em> יכול להכיל מספר או חישוב.
    </p>
    <h2>
        מקטעים
    </h2>
    <p>
        אתה יכול לחלק את התוכנית שלך למקטעים באמצעות <strong>.section</strong> <em>&lt;name&gt;</em>.
        ה<em>&lt;name&gt;</em>
        הפרמטר חייב להתחיל באות ויכול להכיל אותיות (a..z;A..Z), מספרים (0..9) וקווים תחתונים (_).
        ישנם ארבעה שמות מקטעים מוגדרים מראש שהם <strong>.text</strong>, <strong>.data</strong>,
        <strong>.rodata</strong>, <strong>.bss</strong>. אלה אינם דורשים את מילת המפתח <strong>.section</strong> ב
        מולם.
    </p>
    <h2>
        הערות
    </h2>
    <p>
        הערות נתמכות על ידי הצבת <strong>#</strong> לפניהן ומתארכות עד סוף השורה.
        ניתן לממש הערות מרובות שורות על ידי הצבת ה<strong>#</strong> לפני כל שורה.
    </p>
    <h2>
        מחרוזות
    </h2>
    <p>
        ניתן לציין מחרוזות על ידי <strong>.string "</strong><em>&lt;str&gt;</em><strong>"</strong>,
        <strong>.ascii"</strong><em>&lt;str&gt;</em><strong>"</strong>, או
        <strong>.asciz"</strong><em>&lt;str&gt;</em><strong>"</strong>. ה-<em>&lt;str&gt;</em> יכול להכיל כל
        תוכן ויכול להיות מספר שורות. ניתן להשתמש בקודי בריחה הבאים:
    </p>
    <ol>
        <li>\n -&gt; הוסף תו שורה חדשה.
        </li>
        <li>\" -&gt; הוסף מרכאות כפולות.
        </li>
        <li>\t -&gt; הכנס תו טאב.
        </li>
        <li>\r -&gt; הכנס תו החזרת עגלה.
        </li>
        <li>\f -&gt; הוסף הזנת טופס.
        </li>
        <li>\\ -&gt; הכנס לוכסן אחורי.
        </li>
    </ol>
    <p>
        גם <strong>.string</strong> וגם <strong>.asciz</strong> יוסיפו אוטומטית תו אפס בסוף
        של המחרוזת.
    </p>
    <h2>
        כתובות זיכרון
    </h2>
    <p>
        כברירת מחדל, האסמבלר יתחיל בכתובת הזיכרון 0x00000000. כדי להיות מסוגל לשנות את הזיכרון הנוכחי
        כתובת בהנחיה <strong>.org</strong> ניתן להשתמש ב<em>&lt;address&gt;</em>, כאשר
        <em>&lt;address&gt;</em> הוא ערך בתוך מרחב כתובות של 32 סיביות. <em>הערה:</em> רק חפיפה בין מקטעים
        ייבדק על ידי ההרכב. אם בתוך קטע צוינה כתובת שכבר תפוסה,
        הערכים מוחלפים.
    </p>
    <h2>
        קבועים
    </h2>
    <p>
        ישנן מספר דרכים למלא את הזיכרון בערכים קבועים. חוץ מהדרך המבוססת על בתים, כל האחרים
        השתמש בשיטת אחסון קטנה-אנדיאנית, כלומר הבתים הכי פחות משמעותיים מאוחסנים בזיכרון הנמוך ביותר
        כתובת, והבייט המשמעותי ביותר בכתובת הזיכרון הגבוהה ביותר. ההנחיות הנתמכות הן:
    </p>
    <ol>
        <li>
            <strong>.byte</strong> <em>&lt;value1&gt;[,&lt;value2&gt;,...]</em> הוראה זו מאחסנת את הערכים
            מתפרשים כבייטים בזה אחר זה לזיכרון.
        </li>
        <li>
            <strong>.half</strong> <em>&lt;value1&gt;[,&lt;value2&gt;,...]<br></em> <strong>.2byte</strong> <em><em>&lt
            ;value1&gt;[,&lt;value2&gt;,...]<br></em></em>
            <strong>.short</strong> <em>&lt;value1&gt;[,&lt;value2&gt;,...]</em> הנחיות אלו מאחסנות את הערכים
            מתפרשים כערכים של 16 סיביות בזה אחר זה לזיכרון.
        </li>
        <li>
            <strong>.word</strong> <em>&lt;value1&gt;[,&lt;value2&gt;,...]<br></em> <strong>.4byte</strong> <em>&lt;value1&gt;
            [,&lt;value2&gt;,...]<br></em>
            <strong>.long</strong> <em>&lt;value1&gt;[,&lt;value2&gt;,...]</em> הנחיות אלו מאחסנות את הערכים
            מתפרשים כערכים של 32 סיביות בזה אחר זה לתוך הזיכרון.
        </li>
        <li>
            <strong>.dword</strong> <em>&lt;value1&gt;[,&lt;value2&gt;,...]<br></em> <strong>.8byte</strong> <em>&lt;value1&gt;
            [,&lt;value2&gt;,...]<br></em>
            <strong>.quad</strong> <em>&lt;value1&gt;[,&lt;value2&gt;,...]</em> הנחיות אלו מאחסנות את הערכים
            מתפרשים כערכים של 64 סיביות בזה אחר זה לתוך הזיכרון.
        </li>
    </ol>
</div>
</body>
</html>
